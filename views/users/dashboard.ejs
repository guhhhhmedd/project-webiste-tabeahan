<!DOCTYPE html>
<html lang="id" class="scroll-smooth">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard - Tabeahan Cendekia</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400&family=DM+Sans:wght@300;400;500;600&display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="/css/style.css" />
    <style>
      .yt-play-btn { background: #ff0000 !important; box-shadow: 0 4px 24px rgba(255,0,0,0.5) !important; }
      .group:hover .yt-play-btn { background: #8b0000 !important; }
      @keyframes revealUp { from { opacity:0; transform:translateY(36px); } to { opacity:1; transform:translateY(0); } }
      .reveal { opacity:0; transform:translateY(36px); }
      .revealed { animation: revealUp 0.65s cubic-bezier(0.22,1,0.36,1) both; }

      /* User dropdown */
      .user-menu { position:relative; }
      .user-menu-dropdown {
        display:none; position:absolute; right:0; top:calc(100% + 8px);
        width:220px; background:white; border-radius:14px;
        box-shadow:0 8px 32px rgba(0,0,0,0.12); border:1px solid rgba(0,0,0,0.07);
        overflow:hidden; z-index:100;
      }
      .user-menu:hover .user-menu-dropdown { display:block; }
    </style>
  </head>

  <body>

    <!-- ===== NAVBAR LOGGED IN ===== -->
    <nav class="navbar fixed w-full z-50">
      <div class="max-w-6xl mx-auto px-6 lg:px-8">
        <div class="flex justify-between items-center py-4">

          <a href="/dashboard" class="flex items-center gap-3">
            <img src="./asset/logo.png" alt="Logo" class="navbar-logo h-12 w-12 object-cover"/>
            <span class="navbar-brand font-bold text-base tracking-wide" style="font-family:'Playfair Display',serif">
              Tabeahan <span style="color:var(--gold)">Cendekia</span>
            </span>
          </a>

          <!-- Desktop -->
          <div class="hidden md:flex items-center gap-5">
            <a href="#fitur" class="nav-link text-sm font-medium">Fitur</a>
            <a href="#paket" class="nav-link text-sm font-medium">Paket</a>

            <!-- Status badge -->
            <span class="text-[10px] font-bold px-2.5 py-1 rounded-full uppercase tracking-widest"
              style="background:<%= user.status === 'LUNAS' ? 'rgba(22,163,74,0.1)' : 'rgba(234,179,8,0.12)' %>;
                     color:<%= user.status === 'LUNAS' ? '#15803d' : '#a16207' %>">
              <%= user.status %>
            </span>

            <!-- User dropdown -->
            <div class="user-menu">
              <button class="flex items-center gap-2 px-3 py-2 rounded-xl border cursor-pointer"
                style="background:rgba(184,146,74,0.08); border-color:rgba(184,146,74,0.25); color:var(--dark)">
                <div class="w-7 h-7 rounded-full flex items-center justify-center text-xs font-bold text-white"
                  style="background:var(--gold)">
                  <%= user.username.charAt(0).toUpperCase() %>
                </div>
                <span class="text-sm font-semibold max-w-[100px] truncate"><%= user.username %></span>
                <svg class="w-3 h-3 opacity-40" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                </svg>
              </button>

              <div class="user-menu-dropdown">
                <div class="px-4 py-3 border-b" style="background:#fafafa">
                  <p class="text-[10px] text-slate-400 font-bold uppercase mb-0.5">Akun</p>
                  <p class="text-xs font-semibold text-slate-700 truncate"><%= user.email %></p>
                  <p class="text-[10px] text-slate-400">ID #<%= user.id %></p>
                </div>
                <div class="p-2">
                  <a href="/users/dashboardPembayaranUjian"
                    class="flex items-center gap-2 px-3 py-2.5 text-xs font-semibold text-slate-600 hover:bg-slate-50 rounded-lg transition">
                    üéØ Halaman Ujian
                  </a>
                  <a href="/logout"
                    class="flex items-center gap-2 px-3 py-2.5 text-xs font-semibold text-slate-600 hover:bg-slate-50 rounded-lg transition">
                    üö™ Logout
                  </a>
                  <hr class="my-1 border-slate-100">
                  <form action="/deleteAccount" method="POST" class="confirm-hapus">
                    <input type="hidden" name="id" value="<%= user.id %>">
                    <button type="submit"
                      class="w-full text-left flex items-center gap-2 px-3 py-2.5 text-[11px] font-semibold text-red-400 hover:bg-red-50 hover:text-red-600 rounded-lg transition cursor-pointer">
                      üóëÔ∏è Hapus Akun
                    </button>
                  </form>
                </div>
              </div>
            </div>
          </div>

          <!-- Mobile -->
          <div class="flex items-center gap-3 md:hidden">
            <a href="/users/dashboardPembayaranUjian"
              class="w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white"
              style="background:var(--gold)">
              <%= user.username.charAt(0).toUpperCase() %>
            </a>
            <button id="mobile-menu-button" class="navbar-toggle p-2">
              <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
              </svg>
            </button>
          </div>
        </div>
      </div>

      <div id="mobile-menu" class="navbar-mobile hidden md:hidden px-6 pb-6 pt-2">
        <a href="#fitur" class="nav-link-mobile block py-3 text-sm font-medium">Fitur</a>
        <a href="#paket" class="nav-link-mobile block py-3 text-sm font-medium">Paket</a>
        <hr class="border-slate-200 my-3">
        <p class="text-xs font-semibold mb-3" style="color:var(--muted)"><%= user.username %> &middot; <%= user.status %></p>
        <div class="grid grid-cols-2 gap-3">
          <a href="/users/dashboardPembayaranUjian" class="btn-primary flex items-center justify-center py-3 text-sm font-semibold rounded-lg">Ujian</a>
          <a href="/logout" class="flex items-center justify-center py-3 text-sm font-semibold rounded-lg border" style="border-color:var(--dark);color:var(--dark)">Logout</a>
        </div>
      </div>
    </nav>

    <!-- ===== HERO ===== -->
    <section class="hero-section relative flex items-center justify-center overflow-hidden"
      style="background:var(--cream); min-height:80vh; padding:5rem 10% 3rem">
      <div class="relative z-10 w-full max-w-5xl mx-auto">
        <div class="flex flex-col items-center gap-8">
          <div class="w-full flex justify-center fade-in">
            <img src="./asset/hero.png" alt="Hero" class="w-full h-auto object-contain" style="max-width:780px;max-height:520px"/>
          </div>
          <div class="text-center max-w-2xl fade-in-delay-1">
            <h1 class="text-3xl md:text-5xl font-black leading-tight mb-3"
              style="font-family:'Playfair Display',serif; color:var(--dark)">
              Selamat Datang, <span style="color:var(--gold)"><%= user.username %>!</span>
            </h1>
            <p class="text-base md:text-lg font-medium" style="color:var(--muted)">
              Tabeahan Cendekia ‚Äî Solusi Les Private Terbaik
            </p>
          </div>
          <div class="hero-cta flex flex-wrap items-center justify-center gap-4 fade-in-delay-2">
            <a href="/users/dashboardPembayaranUjian"
              class="btn-primary inline-flex items-center gap-2 px-10 py-4 text-sm font-semibold rounded-xl">
              <svg class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"/>
              </svg>
              <%= user.status === 'LUNAS' ? 'Mulai Ujian' : 'Daftar Ujian' %>
            </a>
            <a href="https://wa.me/6282324090580?text=Halo%20min%20saya%20mau%20daftar%20les"
              target="_blank" rel="noopener noreferrer"
              class="btn-outline inline-flex items-center gap-2 px-8 py-4 text-sm font-semibold rounded-xl">
              <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347z"/>
                <path d="M12 0C5.373 0 0 5.373 0 12c0 2.125.558 4.122 1.531 5.856L.057 23.882l6.196-1.625A11.945 11.945 0 0012 24c6.627 0 12-5.373 12-12S18.627 0 12 0zm0 21.818a9.818 9.818 0 01-5.006-1.372l-.36-.214-3.676.964.981-3.595-.234-.369A9.818 9.818 0 012.182 12C2.182 6.57 6.57 2.182 12 2.182S21.818 6.57 21.818 12 17.43 21.818 12 21.818z"/>
              </svg>
              Daftar Les
            </a>
          </div>
          <div class="hero-trust flex flex-wrap items-center justify-center gap-6 fade-in-delay-3">
            <div class="flex items-center gap-2">
              <svg class="w-4 h-4" style="color:var(--gold)" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"/></svg>
              <span class="text-xs font-medium" style="color:var(--muted)">Token Aman & Unik</span>
            </div>
            <div class="flex items-center gap-2">
              <svg class="w-4 h-4" style="color:var(--gold)" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
              <span class="text-xs font-medium" style="color:var(--muted)">Skor Instan</span>
            </div>
            <div class="flex items-center gap-2">
              <svg class="w-4 h-4" style="color:var(--gold)" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/></svg>
              <span class="text-xs font-medium" style="color:var(--muted)">Admin Responsif</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="ruled-line"></div>

    <!-- ===== FITUR ===== -->
    <section id="fitur" class="py-24" style="background:white; border-top:3px solid #c8a020">
      <div class="max-w-6xl mx-auto px-6 lg:px-8">
        <div class="text-center mb-16">
          <h2 class="text-4xl md:text-5xl font-bold leading-tight" style="color:var(--dark)">Mengapa Memilih<br/>Tabeahan Cendekia?</h2>
          <p class="text-base mt-4 max-w-xl mx-auto leading-relaxed" style="color:var(--muted);font-weight:300">Kami hadir dengan pendekatan menyeluruh ‚Äî dari bimbingan mentor berpengalaman hingga teknologi tryout modern yang fleksibel.</p>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          <% [
            { icon:'M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z', title:'Mentor Berpengalaman', desc:'Dibimbing oleh mentor yang berpengalaman dan profesional di bidangnya, siap memandu setiap langkah persiapan seleksimu.' },
            { icon:'M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z', title:'Ribuan Soal HOTS', desc:'Akses ribuan soal HOTS sesuai kisi-kisi terbaru langsung melalui website kami, kapanpun kamu butuhkan.' },
            { icon:'M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253', title:'Bank Soal', desc:'Kumpulan soal yang keluar di tahun-tahun sebelumnya sebagai bahan latihan belajar yang akurat dan terarah.' },
            { icon:'M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z', title:'Tryout Kapanpun', desc:'Fleksibel terhadap kebutuhan siswa ‚Äî lakukan tryout di mana saja dan kapan saja tanpa batasan.' },
            { icon:'M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z', title:'Jadwal Fleksibel', desc:'Tersedia kelas online, home visit, outing, dan outlet ‚Äî menyesuaikan kebutuhan siswa.' },
            { icon:'M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z', title:'Rapor Bulanan', desc:'Perkembangan siswa terus dipantau melalui rapor bulanan yang dikirimkan kepada siswa dan orang tua.' }
          ].forEach(f => { %>
          <div class="feature-card p-8 rounded-xl">
            <div class="w-12 h-12 rounded-lg flex items-center justify-center mb-6" style="background:rgba(184,146,74,0.1)">
              <svg class="w-6 h-6" style="color:var(--gold)" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="<%= f.icon %>"/>
              </svg>
            </div>
            <h3 class="text-xl font-bold mb-3" style="color:var(--dark)"><%= f.title %></h3>
            <p class="text-sm leading-relaxed" style="color:var(--muted)"><%= f.desc %></p>
          </div>
          <% }) %>
        </div>
      </div>
    </section>

    <!-- ===== PAKET ===== -->
    <section id="paket" class="py-24" style="background:var(--cream)">
      <div class="max-w-6xl mx-auto px-6 lg:px-8">
        <div class="text-center mb-16">
          <h2 class="text-4xl md:text-5xl font-bold" style="color:var(--dark)">Pilihan Try Out</h2>
          <p class="text-base mt-4 max-w-lg mx-auto" style="color:var(--muted);font-weight:300">Pilih paket try out sesuai jalur seleksi yang kamu tuju.</p>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <%
            const pakets = [
              { emoji:'üèõÔ∏è', title:'SKD / TKD', sub:'CPNS ¬∑ Kedinasan ¬∑ 90 Menit', desc:'Latihan soal SKD/TKD lengkap untuk seleksi CPNS dan sekolah kedinasan. Mencakup TWK, TIU, dan TKP.', bg:'linear-gradient(135deg,#3a0f0f,#6b1a1a)', popular:false },
              { emoji:'üëÆ', title:'Akademik Polri', sub:'Bintara ¬∑ Akpol ¬∑ 90 Menit', desc:'Persiapan ujian akademik Polri untuk jalur Bintara dan Akpol. Materi lengkap dan terstruktur.', bg:'linear-gradient(135deg,#0f1a3a,#1a2e6b)', popular:true },
              { emoji:'üë®‚Äçüè´', title:'Paket PPPK', sub:'Guru ¬∑ Teknis ¬∑ 120 Menit', desc:'Latihan soal PPPK untuk tenaga guru, teknis, dan fungsional. Komprehensif dan sesuai standar.', bg:'linear-gradient(135deg,#0f3a1a,#1a6b2e)', popular:false }
            ];
          %>
          <% pakets.forEach(p => { %>
          <div class="paket-card rounded-xl overflow-hidden" style="<%= p.popular ? 'border-color:var(--gold);box-shadow:0 12px 40px -12px rgba(184,146,74,0.25)' : '' %>">
            <div class="p-6 relative" style="background:<%= p.bg %>">
              <% if(p.popular) { %><div class="absolute top-4 right-4 text-[9px] font-bold px-3 py-1" style="background:var(--gold);color:white">POPULER</div><% } %>
              <div class="text-4xl mb-4"><%= p.emoji %></div>
              <h3 class="font-bold text-white text-lg" style="font-family:'Playfair Display',serif"><%= p.title %></h3>
              <p class="text-xs mt-1" style="color:rgba(255,255,255,0.5)"><%= p.sub %></p>
            </div>
            <div class="p-6">
              <p class="text-sm leading-relaxed mb-6" style="color:var(--muted)"><%= p.desc %></p>
              <div class="flex items-end justify-between mb-4">
                <div>
                  <p class="text-xs line-through" style="color:#ccc">Rp 100.000</p>
                  <p class="text-2xl font-black" style="font-family:'Playfair Display',serif;color:var(--gold)">Rp 50.000</p>
                </div>
                <span class="text-xs font-bold px-2 py-1 rounded" style="background:rgba(184,146,74,0.1);color:var(--gold)">50% OFF</span>
              </div>
              <a href="/users/dashboardPembayaranUjian"
                class="btn-primary block text-center py-3 text-sm font-semibold rounded-lg">
                <%= user.status === 'LUNAS' ? 'Mulai Ujian ‚Üí' : 'Pilih Paket' %>
              </a>
            </div>
          </div>
          <% }) %>
        </div>
      </div>
    </section>

    <!-- ===== FOOTER ===== -->
    <footer class="pt-16 pb-8" style="background:#3a0a0a;border-top:1px solid rgba(255,255,255,0.06)">
      <div class="max-w-6xl mx-auto px-6 lg:px-8">
        <div class="grid grid-cols-1 sm:grid-cols-3 gap-10 mb-12">
          <div>
            <div class="flex items-center gap-2 mb-4">
              <img src="./asset/logo.png" alt="Logo" class="h-9 w-auto"/>
              <span class="font-bold text-lg" style="font-family:'Playfair Display',serif;color:var(--cream)">Tabeahan <span style="color:var(--gold)">Cendekia</span></span>
            </div>
            <p class="text-xs leading-relaxed" style="color:rgba(255,255,255,0.35)">Platform belajar dan ujian CAT untuk mempersiapkan seleksi CPNS, Polri, dan PPPK.</p>
          </div>
          <div>
            <h4 class="text-sm font-bold mb-4 uppercase tracking-widest" style="color:var(--gold)">Akun Saya</h4>
            <ul class="space-y-3 text-sm" style="color:rgba(255,255,255,0.45)">
              <li><a href="/users/dashboardPembayaranUjian" class="hover:text-white transition">Halaman Ujian</a></li>
              <li><a href="/logout" class="hover:text-white transition">Logout</a></li>
            </ul>
          </div>
          <div>
            <h4 class="text-sm font-bold mb-4 uppercase tracking-widest" style="color:var(--gold)">Hubungi Kami</h4>
            <ul class="space-y-3 text-sm" style="color:rgba(255,255,255,0.45)">
              <li><a href="https://wa.me/6282324090580" target="_blank" class="hover:text-white transition">+62 823-2409-0580</a></li>
              <li><a href="https://www.instagram.com/tabeahancendekia.go/" target="_blank" class="hover:text-white transition">@tabeahancendekia.go</a></li>
            </ul>
          </div>
        </div>
        <div class="pt-6 border-t text-center text-xs" style="border-color:rgba(255,255,255,0.06);color:rgba(255,255,255,0.2)">
          &copy; 2026 Tabeahan Cendekia. All rights reserved.
        </div>
      </div>
    </footer>

    <script>
      // Mobile menu
      const btn = document.getElementById("mobile-menu-button");
      const menu = document.getElementById("mobile-menu");
      if(btn) btn.addEventListener("click", () => menu.classList.toggle("hidden"));

      // Smooth scroll
      document.querySelectorAll('a[href^="#"]').forEach(a => {
        a.addEventListener("click", e => {
          e.preventDefault();
          const t = document.querySelector(a.getAttribute("href"));
          if(t) t.scrollIntoView({ behavior:"smooth", block:"start" });
        });
      });

      // Scroll reveal
      document.querySelectorAll(".feature-card, .paket-card, section h2").forEach(el => {
        if(!el.classList.contains("fade-in")) el.classList.add("reveal");
      });
      const obs = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if(entry.isIntersecting) {
            const el = entry.target;
            const idx = Array.from(el.parentElement?.children || []).indexOf(el);
            el.style.animationDelay = `${Math.min(idx * 0.08, 0.48)}s`;
            el.classList.add("revealed");
            obs.unobserve(el);
          }
        });
      }, { threshold:0.12, rootMargin:"0px 0px -40px 0px" });
      document.querySelectorAll(".reveal").forEach(el => obs.observe(el));

      // Confirm hapus akun
      document.querySelectorAll(".confirm-hapus").forEach(form => {
        form.addEventListener("submit", e => {
          if(!confirm("Akun akan dihapus permanen! Anda yakin?")) e.preventDefault();
        });
      });
    </script>
  </body>
</html>
